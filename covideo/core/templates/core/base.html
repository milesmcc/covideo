{% load sass_tags static %}

<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>{{title|default:"Chronicling COVID-19"}} | Covideo</title>
  {% if description %}
  <meta name="description" content="{{description}}">
  {% endif %}
  <link href="https://rsms.me/inter/inter.css" rel="stylesheet" type="text/css">
  <link href="{% sass_src 'core/sass/bulma/bulma.sass' %}" rel="stylesheet" type="text/css" />
  <link href="{% sass_src 'core/sass/shared.sass' %}" rel="stylesheet" type="text/css" />
  <script async src="https://use.fontawesome.com/releases/v5.3.1/js/all.js"></script>
  <script>    
    document.addEventListener('DOMContentLoaded', () => {
      document.querySelectorAll("form").forEach(form => {
        form.addEventListener('submit', () => {
          form.querySelectorAll("button[type=submit]").forEach(button => {
            button.classList.add("is-loading");
          });
          setTimeout(function () {
            form.querySelectorAll("button[type=submit]").forEach(button => {
              button.classList.remove("is-loading");
            });
          }, 5000);
        });
      });
      // Get all "navbar-burger" elements
      const $navbarBurgers = Array.prototype.slice.call(document.querySelectorAll('.navbar-burger'), 0);

      // Check if there are any navbar burgers
      if ($navbarBurgers.length > 0) {

        // Add a click event on each of them
        $navbarBurgers.forEach(el => {
          el.addEventListener('click', () => {

            // Get the target from the "data-target" attribute
            const target = el.dataset.target;
            const $target = document.getElementById(target);

            // Toggle the "is-active" class on both the "navbar-burger" and the "navbar-menu"
            el.classList.toggle('is-active');
            $target.classList.toggle('is-active');

          });
        });
      }
    });
  </script>
  {% block head %}
  {% endblock %}
  <script>var clicky_site_ids = clicky_site_ids || []; clicky_site_ids.push(101242113);</script>
  <script async src="//static.getclicky.com/js"></script>
</head>

<body>
  {% block body %}
  {% endblock %}
</body>

</html>